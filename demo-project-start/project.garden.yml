kind: Project
name: demo-project-start
environments:
  - name: preview
    defaultNamespace: ${local.username}-$GITHUB_RUN_NUMBER-preview
    variables:
        hostname: ${var.previewHostname}
providers:
  - name: kubernetes
    context: gke_starry-minutia-376412_europe-north1-a_demo-preview-environments
    environments: [preview]
    namespace: ${environment.namespace}
    defaultHostname: ${var.hostname}
    deploymentRegistry:
      hostname: eu.gcr.io
      namespace: starry-minutia-376412   # <- set this to the project ID of the target cluster
    imagePullSecrets:
      - name: gcr-config
        namespace: default
variables:
   previewHostname: $GITHUB_RUN_NUMBER.${local.env.INGRESS_IP}
